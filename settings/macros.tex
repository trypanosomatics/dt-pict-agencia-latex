% --------------------------------------------------------------------------- %
% Git commit data 
% --------------------------------------------------------------------------- %
\CatchFileDef{\headfull}{.git/HEAD.}{}
\StrGobbleRight{\headfull}{1}[\head]
\StrBehind[2]{\head}{/}[\branch]
\IfFileExists{.git/refs/heads/\branch.}{%
    \CatchFileDef{\commit}{.git/refs/heads/\branch.}{}}{%
    \newcommand{\commit}{\dots~(in \emph{packed-refs})}%
    }
% \gitrevision = short commit hash string
\StrLeft{\commit}{7}[\gitrevision]